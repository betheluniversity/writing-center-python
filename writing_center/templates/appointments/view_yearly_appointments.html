{% extends 'writing_center_base.html' %}

{% block body_content %}
    <div class="jumbotron">
        <h1><b>View All Appointments For {{ selected_year }}</b></h1>
        <p>Views appointments by year.</p>
    </div>
    <div class="row">
        <div class="col-md-12">
            <form>
                <table id="table" class="table table-striped table-bordered">
                    <thead>
                        <tr>
                            <th data-toggle="tooltip" data-placement="top" title="Student First Name">Student First Name</th>
                            <th data-toggle="tooltip" data-placement="top" title="Student Last Name">Student Last Name</th>
                            <th data-toggle="tooltip" data-placement="top" title="Student Username">Student Username</th>
                            <th data-toggle="tooltip" data-placement="top" title="Tutor First Name">Tutor First Name</th>
                            <th data-toggle="tooltip" data-placement="top" title="Tutor Last Name">Tutor Last Name</th>
                            <th data-toggle="tooltip" data-placement="top" title="Tutor Username">Tutor Username</th>
                            <th data-toggle="tooltip" data-placement="top" title="Instructor Name">Instructor Name</th>
                            <th data-toggle="tooltip" data-placement="top" title="Start Date/Start Time">Start Date/Start Time</th>
                            <th data-toggle="tooltip" data-placement="top" title="End Date/End Time">End Date/End Time</th>
                            <th data-toggle="tooltip" data-placement="top" title="Course or Tag">Course or Tag</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for app_data in appointments %}
                            <tr>
                                <td>{{ get_name(app_data.StudUsername).firstName }}</td>
                                <td>{{ get_name(app_data.StudUsername).lastName }}</td>
                                <td>{{ app_data.StudUsername }}</td>
                                <td>{{ get_name(app_data.TutorUsername).firstName }}</td>
                                <td>{{ get_name(app_data.TutorUsername).lastName }}</td>
                                <td>{{ app_data.TutorUsername }}</td>
                                <td>{{ app_data.ProfUsername }}</td>
                                <td>{{ app_data.StartTime|datetimeformat('%m/%d/%y') }} - {{ app_data.StartTime|datetimeformat }}</td>
                                <td>{{ app_data.EndTime|datetimeformat('%m/%d/%y') }} - {{ app_data.EndTime|datetimeformat }}</td>
                                <td>{{ app_data.CourseCode }}</td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </form>
        </div>
    </div>

    <script>
        $(document).ready( function () {
            $.extend($.fn.dataTableExt.oStdClasses, {
                // give some foundation classes to our controls
                sLength: 'large-4 columns ',
                sFilter: 'large-12 columns ',
            });

            var table = $('#table').DataTable({
                "aaSorting": [1, 'asc'],

                "aoColumns": [
                    {"orderSequence": ["asc", "desc"]},
                    {"orderSequence": ["asc", "desc"]},
                    {"orderSequence": ["asc", "desc"]},
                    {"orderSequence": ["asc", "desc"]},
                    {"orderSequence": ["asc", "desc"]},
                    {"orderSequence": ["asc", "desc"]},
                    {"orderSequence": ["asc", "desc"]},
                    {"orderSequence": [null]},
                    {"orderSequence": [null]},
                    {"orderSequence": [null]}
                ],

                "bPaginate": true,
                "bLengthChange": false,
            });
        });
    </script>

{% endblock %}