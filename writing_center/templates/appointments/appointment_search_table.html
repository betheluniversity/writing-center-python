{% if appointments %}
    <table id="table" class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Student</th>
                <th>Tutor</th>
                <th class="one-line">Scheduled Start</th>
                <th class="one-line">Scheduled End</th>
                <th>Professor</th>
                <th>Multilingual</th>
                <th>Course</th>
                <th class="one-line">No Show</th>
                <th>Info</th>
            </tr>
        </thead>
        <tbody>
            {% for appt, info in appts_and_info.items() %}
                <tr>
                    <td class="one-line">
                        {% if info['student'] %}
                            {{ info['student'].firstName }} {{ info['student'].lastName }}
                        {% else %}
                            None
                        {% endif %}
                    </td>
                    <td class="one-line">{{ info['tutor'].firstName }} {{ info['tutor'].lastName }}</td>
                    <td class="one-line">{{ appt.scheduledStart.strftime("%m/%d/%y %I:%M %p") }}</td>
                    <td class="one-line">{{ appt.scheduledEnd.strftime("%m/%d/%y %I:%M %p") }}</td>
                    <td class="one-line">{{ appt.profName }}</td>
                    <td>{{ 'Yes' if appt.multilingual else 'No' }}</td>
                    <td>{{ appt.courseCode }}</td>
                    <td>{{ 'Yes' if appt.noShow else 'No' }}</td>
                    <td><input id="{{ appt.id }}" type="button" class="btn btn-primary" value="Info" data-toggle="modal"
                               data-target="#info-modal" data-prof="{{ appt.profName }}"></td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    <script type="text/javascript">
        $(document).ready(function(){

            var table = $('#table').DataTable({
                "aaSorting": [],
                "aoColumns": [
                ],
                searching: false,
                paging: false,
                pageLength: false,
            });

            $(".appt-btn").click(function(){
               alert("Clicked");
            });

        });
    </script>
{% else %}
    <p>No appointments match the current search criteria.</p>
{% endif %}

<!-- Info Modal -->
<div class="modal fade" id="info-modal" tabindex="-1" role="dialog" aria-labelledby="modal-label" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modal-label">Appointment Information</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <table id="modal-table" class="table table-striped table-bordered">
                    <tr>
                        <th>Student</th>
                        <td id="student"></td>
                    </tr>
                    <tr>
                        <th>Tutor</th>
                        <td>data</td>
                    </tr>
                    <tr>
                        <th>Scheduled Start</th>
                        <td>data</td>
                    </tr>
                    <tr>
                        <th>Scheduled End</th>
                        <td>data</td>
                    </tr>
                    <tr>
                        <th>Actual Start</th>
                        <td>data</td>
                    </tr>
                    <tr>
                        <th>Actual End</th>
                        <td>data</td>
                    </tr>
                    <tr>
                        <th>Drop In</th>
                        <td>data</td>
                    </tr>
                    <tr>
                        <th>Multilingual</th>
                        <td>data</td>
                    </tr>
                    <tr>
                        <th>No Show</th>
                        <td>data</td>
                    </tr>
                    <tr>
                        <th>Professor</th>
                        <td id="prof"></td>
                    </tr>
                    <tr>
                        <th>Professor Email</th>
                        <td>data</td>
                    </tr>
                    <tr>
                        <th>Course Code</th>
                        <td>data</td>
                    </tr>
                    <tr>
                        <th>Course Section</th>
                        <td>data</td>
                    </tr>
                    <tr>
                        <th>Assignment</th>
                        <td>data</td>
                    </tr>
                    <tr>
                        <th>Notes</th>
                        <td>data</td>
                    </tr>
                    <tr>
                        <th>Suggestions</th>
                        <td>data</td>
                    </tr>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    var modelTable = $('#modal-table').DataTable({
        "aaSorting": [],
        "aoColumns": [
        ],
        searching: false,
        paging: false,
        pageLength: false,
    });

    $('#info-modal').on('show.bs.modal', function(event){
        var button = $(event.relatedTarget);
        var prof = button.data('prof');
        var modal = $(this);
        modal.find('#prof').html(prof);
    });
</script>